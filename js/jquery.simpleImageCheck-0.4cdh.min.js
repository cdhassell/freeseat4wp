(function(e){e.fn.simpleImageCheck=function(n){var i=this;if(i.length<1){return i}n=n?n:{};n=r(n);i.each(function(){var r=e(this);if(r.is(":checkbox")||r.is(":radio")){t(r,n)}});return i};var t=function(t,r){var i=t.is(":checked");var s=t.attr("title");var o=r.image;if(i){o=r.imageChecked}var u=t.attr("id");if(!u||u.length<1){u=t.attr("id","imageCheckInput_"+e.fn.simpleImageCheck.uid++).attr("id")}var a=t.before("<img src='"+o+"' id='ic_"+u+"' alt='"+s+"' title='"+s+"' class='imageCheck"+(i?" checked":"")+"' role='checkbox' aria-checked='"+(i?"true":"false")+"' aria-controls='"+u+"' />").parent().find("img#ic_"+u);t.click(function(e,i){if(i===true){return}n(t,a,r,true)}).hide();var f=t.attr("tabindex")||t.get(0).tabIndex||0;a.css({cursor:"pointer"}).click(function(e){e.preventDefault();n(t,a,r,false)}).keypress(function(t){var n=t.which?t.which:t.keyCode?t.keyCode:0;if(n==13||n==32){e(this).click()}}).hover(function(){e(this).addClass("imageCheckHover")},function(){e(this).removeClass("imageCheckHover")}).get(0).tabIndex=f};var n=function(t,n,r,i){if(n.hasClass("checked")===t.is(":checked")&&!i){t.trigger("click",[true]).change()}var s=t.is(":checked");n.toggleClass("checked").attr({"aria-checked":""+(s?"true":"false"),src:""+(s?r.imageChecked:r.image)});if(t.is(":radio")&&!i){e('input[name="'+t.attr("name")+'"]').not(t).each(function(){e("#ic_"+this.id).removeClass("checked").attr({"aria-checked":"false",src:""+r.image})})}setTimeout(function(){r.afterCheck.apply(t,[s])},25)};var r=function(t){if(!e.isFunction(t.afterCheck)){t.afterCheck=function(){}}if(typeof t.image!="string"){t.image=""}if(typeof t.imageChecked!="string"){t.imageChecked=""}return t};e.fn.simpleImageCheck.uid=0})(jQuery)
